<form [formGroup]="form" class="space-y-5">
  <!-- Si no hay campos -->
  <div *ngIf="fields.length === 0" class="text-gray-400 text-sm italic">
    No hay campos personalizados configurados.
  </div>

  <!-- Iterar sobre los campos -->
  <div *ngFor="let field of fields" class="space-y-1">
    <!-- Etiqueta -->
    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
      {{ field.label }}
      <span *ngIf="field.is_required" class="text-red-500">*</span>
    </label>

    <!-- TEXT -->
    <input
      *ngIf="field.field_type === 'text'"
      type="text"
      [formControlName]="field.field_key"
      class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm text-sm text-[#00113f]
             focus:outline-none focus:ring-[#3e66ea] focus:border-[#3e66ea]
             border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      placeholder="Escriba aquí..."
    />

    <!-- INTEGER -->
    <input
      *ngIf="field.field_type === 'integer'"
      type="number"
      step="1"
      [formControlName]="field.field_key"
      class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm text-sm text-[#00113f]
             focus:outline-none focus:ring-[#3e66ea] focus:border-[#3e66ea]
             border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      placeholder="Número entero"
    />

    <!-- DECIMAL -->
    <input
      *ngIf="field.field_type === 'decimal'"
      type="number"
      step="0.01"
      [formControlName]="field.field_key"
      class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm text-sm text-[#00113f]
             focus:outline-none focus:ring-[#3e66ea] focus:border-[#3e66ea]
             border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      placeholder="Número decimal"
    />

    <!-- DATE (con calendario nativo) -->
    <input
      *ngIf="field.field_type === 'date'"
      type="date"
      [formControlName]="field.field_key"
      class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm text-sm text-[#00113f]
             focus:outline-none focus:ring-[#3e66ea] focus:border-[#3e66ea]
             border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
    />

    <!-- BOOLEAN -->
    <div *ngIf="field.field_type === 'boolean'" class="flex items-center mt-2">
      <!-- Switch estilizado -->
      <label class="relative inline-flex items-center cursor-pointer">
        <input
          type="checkbox"
          class="sr-only peer"
          [formControlName]="field.field_key"
        />
        <div
          class="w-10 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700
                 peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-['']
                 after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300
                 after:border after:rounded-full after:h-4 after:w-4 after:transition-all
                 peer-checked:bg-[#3e66ea]"
        ></div>
        <span class="ml-3 text-sm text-gray-700 dark:text-gray-300">
          {{ form.get(field.field_key)?.value ? 'Sí' : 'No' }}
        </span>
      </label>
    </div>
  </div>
</form>